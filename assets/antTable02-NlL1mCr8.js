import{R as P,j as e,B as R,r as o,F as x,I as L}from"./index-alDrBFfS.js";import{M as A}from"./markDownBox-poJgs0ri.js";import{F as B,P as T}from"./Table-BwR4ysfH.js";import"./index-CxXQCoHx.js";import"./useBreakpoint-BeqJ2eox.js";import"./useForceUpdate-B8RAw4Nq.js";import"./index-DTExBQue.js";import"./useShowArrow-DiXZtf3x.js";import"./List-CFdX2aLX.js";import"./useIcons-C0leD-E-.js";import"./CheckOutlined-B-UXuLpQ.js";import"./PurePanel-D_7etJI4.js";import"./ActionButton-Muo9UK0z.js";import"./addEventListener-BpsKf9Ww.js";import"./index-C1nSe47o.js";import"./conductUtil-C8cqJXZS.js";import"./index-Wc4A_gOt.js";import"./index-JrETB9ku.js";import"./index-RobofbKU.js";import"./index-a_ueXMWC.js";import"./index-DzARmBjV.js";import"./scrollTo-Crk9mwe3.js";const v=P.createContext(null);function K(){const u=({index:t,...n})=>{const[a]=x.useForm();return e.jsx(x,{form:a,component:!1,children:e.jsx(v.Provider,{value:a,children:e.jsx("tr",{...n})})})},p=({title:t,editable:n,children:a,dataIndex:d,record:c,handleSave:D,...F})=>{const[m,N]=o.useState(!1),f=o.useRef(null),h=o.useContext(v);o.useEffect(()=>{var r;m&&((r=f.current)==null||r.focus())},[m]);const j=()=>{N(!m),h.setFieldsValue({[d]:c[d]})},g=async()=>{try{const r=await h.validateFields();j(),D({...c,...r})}catch(r){console.log("Save failed:",r)}};let b=a;return n&&(b=m?e.jsx(x.Item,{style:{margin:0},name:d,rules:[{required:!0,message:`${t} is required.`}],children:e.jsx(L,{ref:f,onPressEnter:g,onBlur:g})}):e.jsx("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:j,children:a})),e.jsx("td",{...F,children:b})},[s,i]=o.useState([{key:"0",name:"Edward King 0",age:"32",address:"London, Park Lane no. 0"},{key:"1",name:"Edward King 1",age:"32",address:"London, Park Lane no. 1"}]),[l,w]=o.useState(2),y=t=>{const n=s.filter(a=>a.key!==t);i(n)},k=[{title:"name",dataIndex:"name",width:"30%",editable:!0},{title:"age",dataIndex:"age"},{title:"address",dataIndex:"address"},{title:"operation",dataIndex:"operation",render:(t,n)=>s.length>=1?e.jsx(T,{title:"Sure to delete?",onConfirm:()=>y(n.key),children:e.jsx("a",{children:"Delete"})}):null}],E=()=>{const t={key:l,name:`Edward King ${l}`,age:"32",address:`London, Park Lane no. ${l}`};i([...s,t]),w(l+1)},C=t=>{const n=[...s],a=n.findIndex(c=>t.key===c.key),d=n[a];n.splice(a,1,{...d,...t}),i(n)},S={body:{row:u,cell:p}},I=k.map(t=>t.editable?{...t,onCell:n=>({record:n,editable:t.editable,dataIndex:t.dataIndex,title:t.title,handleSave:C})}:t);return{components:S,dataSource:s,columns:I,handleAdd:E}}const oe=()=>{const{components:u,dataSource:p,columns:s,handleAdd:i}=K();return e.jsx("div",{className:"common_container",children:e.jsx("div",{className:"mt10",children:e.jsx(A,{url:"static/file/md/case/table/antTable.md",children:e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("span",{className:"ft20 fw700 mr8",children:"AntTable"}),e.jsx("div",{children:"表格基础使用，带复选框，带分页，带操作列"})]}),e.jsxs("div",{className:"mt15",children:[e.jsx(R,{onClick:i,type:"primary",style:{marginBottom:16},children:"Add a row"}),e.jsx(B,{dataSource:p,columns:s,components:u,rowClassName:()=>"editable-row",bordered:!0})]})]})})})})};export{oe as default};
