import{r as o,R as f,b5 as ge,c as p,a7 as m,a5 as ve,ai as re,_ as B,Z as J,b6 as le,bP as be,bQ as ee,ak as ae,b7 as Ce,g as ye,w as he,u as i,a as Se,t as $e,m as xe}from"./index-alDrBFfS.js";import{i as Re}from"./fade-Ci-J887N.js";var de=o.createContext({});function te(e,a,t){var n=a;return!n&&t&&(n="".concat(e,"-").concat(t)),n}function oe(e,a){var t=e["page".concat(a?"Y":"X","Offset")],n="scroll".concat(a?"Top":"Left");if(typeof t!="number"){var r=e.document;t=r.documentElement[n],typeof t!="number"&&(t=r.body[n])}return t}function we(e){var a=e.getBoundingClientRect(),t={left:a.left,top:a.top},n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=oe(r),t.top+=oe(r,!0),t}const pe=o.memo(function(e){var a=e.children;return a},function(e,a){var t=a.shouldUpdate;return!t});var ne={width:0,height:0,overflow:"hidden",outline:"none"},Ne={outline:"none"},Ee=f.forwardRef(function(e,a){var t=e.prefixCls,n=e.className,r=e.style,l=e.title,v=e.ariaId,g=e.footer,s=e.closable,b=e.closeIcon,y=e.onClose,x=e.children,h=e.bodyStyle,S=e.bodyProps,R=e.modalRender,N=e.onMouseDown,P=e.onMouseUp,A=e.holderRef,M=e.visible,z=e.forceRender,C=e.width,I=e.height,c=e.classNames,u=e.styles,j=f.useContext(de),q=j.panel,U=ge(A,q),L=o.useRef(),_=o.useRef(),w=o.useRef();f.useImperativeHandle(a,function(){return{focus:function(){var E;(E=w.current)===null||E===void 0||E.focus()},changeActive:function(E){var K=document,V=K.activeElement;E&&V===_.current?L.current.focus():!E&&V===L.current&&_.current.focus()}}});var $={};C!==void 0&&($.width=C),I!==void 0&&($.height=I);var T;g&&(T=f.createElement("div",{className:p("".concat(t,"-footer"),c==null?void 0:c.footer),style:m({},u==null?void 0:u.footer)},g));var H;l&&(H=f.createElement("div",{className:p("".concat(t,"-header"),c==null?void 0:c.header),style:m({},u==null?void 0:u.header)},f.createElement("div",{className:"".concat(t,"-title"),id:v},l)));var D=o.useMemo(function(){return ve(s)==="object"&&s!==null?s:s?{closeIcon:b??f.createElement("span",{className:"".concat(t,"-close-x")})}:{}},[s,b]),X=re(D,!0),W;s&&(W=f.createElement("button",B({type:"button",onClick:y,"aria-label":"Close"},X,{className:"".concat(t,"-close")}),D.closeIcon));var O=f.createElement("div",{className:p("".concat(t,"-content"),c==null?void 0:c.content),style:u==null?void 0:u.content},W,H,f.createElement("div",B({className:p("".concat(t,"-body"),c==null?void 0:c.body),style:m(m({},h),u==null?void 0:u.body)},S),x),T);return f.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":l?v:null,"aria-modal":"true",ref:U,style:m(m({},r),$),className:p(t,n),onMouseDown:N,onMouseUp:P},f.createElement("div",{tabIndex:0,ref:L,style:ne,"aria-hidden":"true"}),f.createElement("div",{ref:w,tabIndex:-1,style:Ne},f.createElement(pe,{shouldUpdate:M||z},R?R(O):O)),f.createElement("div",{tabIndex:0,ref:_,style:ne,"aria-hidden":"true"}))}),se=o.forwardRef(function(e,a){var t=e.prefixCls,n=e.title,r=e.style,l=e.className,v=e.visible,g=e.forceRender,s=e.destroyOnClose,b=e.motionName,y=e.ariaId,x=e.onVisibleChanged,h=e.mousePosition,S=o.useRef(),R=o.useState(),N=J(R,2),P=N[0],A=N[1],M={};P&&(M.transformOrigin=P);function z(){var C=we(S.current);A(h?"".concat(h.x-C.left,"px ").concat(h.y-C.top,"px"):"")}return o.createElement(le,{visible:v,onVisibleChanged:x,onAppearPrepare:z,onEnterPrepare:z,forceRender:g,motionName:b,removeOnLeave:s,ref:S},function(C,I){var c=C.className,u=C.style;return o.createElement(Ee,B({},e,{ref:a,title:n,ariaId:y,prefixCls:t,holderRef:I,style:m(m(m({},u),r),M),className:p(l,c)}))})});se.displayName="Content";function Be(e){var a=e.prefixCls,t=e.style,n=e.visible,r=e.maskProps,l=e.motionName,v=e.className;return o.createElement(le,{key:"mask",visible:n,motionName:l,leavedClassName:"".concat(a,"-mask-hidden")},function(g,s){var b=g.className,y=g.style;return o.createElement("div",B({ref:s,style:m(m({},y),t),className:p("".concat(a,"-mask"),b,v)},r))})}function Me(e){var a=e.prefixCls,t=a===void 0?"rc-dialog":a,n=e.zIndex,r=e.visible,l=r===void 0?!1:r,v=e.keyboard,g=v===void 0?!0:v,s=e.focusTriggerAfterClose,b=s===void 0?!0:s,y=e.wrapStyle,x=e.wrapClassName,h=e.wrapProps,S=e.onClose,R=e.afterOpenChange,N=e.afterClose,P=e.transitionName,A=e.animation,M=e.closable,z=M===void 0?!0:M,C=e.mask,I=C===void 0?!0:C,c=e.maskTransitionName,u=e.maskAnimation,j=e.maskClosable,q=j===void 0?!0:j,U=e.maskStyle,L=e.maskProps,_=e.rootClassName,w=e.classNames,$=e.styles,T=o.useRef(),H=o.useRef(),D=o.useRef(),X=o.useState(l),W=J(X,2),O=W[0],G=W[1],E=be();function K(){ee(H.current,document.activeElement)||(T.current=document.activeElement)}function V(){if(!ee(H.current,document.activeElement)){var d;(d=D.current)===null||d===void 0||d.focus()}}function ce(d){if(d)V();else{if(G(!1),I&&T.current&&b){try{T.current.focus({preventScroll:!0})}catch{}T.current=null}O&&(N==null||N())}R==null||R(d)}function Z(d){S==null||S(d)}var F=o.useRef(!1),Q=o.useRef(),ue=function(){clearTimeout(Q.current),F.current=!0},me=function(){Q.current=setTimeout(function(){F.current=!1})},k=null;q&&(k=function(Y){F.current?F.current=!1:H.current===Y.target&&Z(Y)});function fe(d){if(g&&d.keyCode===ae.ESC){d.stopPropagation(),Z(d);return}l&&d.keyCode===ae.TAB&&D.current.changeActive(!d.shiftKey)}return o.useEffect(function(){l&&(G(!0),K())},[l]),o.useEffect(function(){return function(){clearTimeout(Q.current)}},[]),o.createElement("div",B({className:p("".concat(t,"-root"),_)},re(e,{data:!0})),o.createElement(Be,{prefixCls:t,visible:I&&l,motionName:te(t,c,u),style:m(m({zIndex:n},U),$==null?void 0:$.mask),maskProps:L,className:w==null?void 0:w.mask}),o.createElement("div",B({tabIndex:-1,onKeyDown:fe,className:p("".concat(t,"-wrap"),x,w==null?void 0:w.wrapper),ref:H,onClick:k,style:m(m(m({zIndex:n},y),$==null?void 0:$.wrapper),{},{display:O?null:"none"})},h),o.createElement(se,B({},e,{onMouseDown:ue,onMouseUp:me,ref:D,closable:z,ariaId:E,prefixCls:t,visible:l&&O,onClose:Z,onVisibleChanged:ce,motionName:te(t,P,A)}))))}var Ie=function(a){var t=a.visible,n=a.getContainer,r=a.forceRender,l=a.destroyOnClose,v=l===void 0?!1:l,g=a.afterClose,s=a.panelRef,b=o.useState(t),y=J(b,2),x=y[0],h=y[1],S=o.useMemo(function(){return{panel:s}},[s]);return o.useEffect(function(){t&&h(!0)},[t]),!r&&v&&!x?null:o.createElement(de.Provider,{value:S},o.createElement(Ce,{open:t||r||x,autoDestroy:!1,getContainer:n,autoLock:t||x},o.createElement(Me,B({},a,{destroyOnClose:v,afterClose:function(){g==null||g(),h(!1)}}))))};Ie.displayName="Dialog";function ie(e){return{position:e,inset:0}}const Te=e=>{const{componentCls:a,antCls:t}=e;return[{[`${a}-root`]:{[`${a}${t}-zoom-enter, ${a}${t}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${a}${t}-zoom-leave ${a}-content`]:{pointerEvents:"none"},[`${a}-mask`]:Object.assign(Object.assign({},ie("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",[`${a}-hidden`]:{display:"none"}}),[`${a}-wrap`]:Object.assign(Object.assign({},ie("fixed")),{zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${a}-root`]:Re(e)}]},He=e=>{const{componentCls:a}=e;return[{[`${a}-root`]:{[`${a}-wrap-rtl`]:{direction:"rtl"},[`${a}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[a]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax}px)`]:{[a]:{maxWidth:"calc(100vw - 16px)",margin:`${i(e.marginXS)} auto`},[`${a}-centered`]:{[a]:{flex:1}}}}},{[a]:Object.assign(Object.assign({},Se(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${i(e.calc(e.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:e.paddingLG,[`${a}-title`]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},[`${a}-content`]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:e.contentPadding},[`${a}-close`]:Object.assign({position:"absolute",top:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),insetInlineEnd:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),zIndex:e.calc(e.zIndexPopupBase).add(10).equal(),padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:`${i(e.modalCloseBtnSize)}`,justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:hover":{color:e.modalCloseIconHoverColor,backgroundColor:e.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:e.colorBgTextActive}},$e(e)),[`${a}-header`]:{color:e.colorText,background:e.headerBg,borderRadius:`${i(e.borderRadiusLG)} ${i(e.borderRadiusLG)} 0 0`,marginBottom:e.headerMarginBottom,padding:e.headerPadding,borderBottom:e.headerBorderBottom},[`${a}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word",padding:e.bodyPadding,[`${a}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${i(e.margin)} auto`}},[`${a}-footer`]:{textAlign:"end",background:e.footerBg,marginTop:e.footerMarginTop,padding:e.footerPadding,borderTop:e.footerBorderTop,borderRadius:e.footerBorderRadius,[`> ${e.antCls}-btn + ${e.antCls}-btn`]:{marginInlineStart:e.marginXS}},[`${a}-open`]:{overflow:"hidden"}})},{[`${a}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${a}-content,
          ${a}-body,
          ${a}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${a}-confirm-body`]:{marginBottom:"auto"}}}]},Pe=e=>{const{componentCls:a}=e;return{[`${a}-root`]:{[`${a}-wrap-rtl`]:{direction:"rtl",[`${a}-confirm-body`]:{direction:"rtl"}}}}},ze=e=>{const a=e.padding,t=e.fontSizeHeading5,n=e.lineHeightHeading5;return xe(e,{modalHeaderHeight:e.calc(e.calc(n).mul(t).equal()).add(e.calc(a).mul(2).equal()).equal(),modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterBorderWidth:e.lineWidth,modalCloseIconColor:e.colorIcon,modalCloseIconHoverColor:e.colorIconHover,modalCloseBtnSize:e.controlHeight,modalConfirmIconSize:e.fontHeight,modalTitleHeight:e.calc(e.titleFontSize).mul(e.titleLineHeight).equal()})},De=e=>({footerBg:"transparent",headerBg:e.colorBgElevated,titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading,contentPadding:e.wireframe?0:`${i(e.paddingMD)} ${i(e.paddingContentHorizontalLG)}`,headerPadding:e.wireframe?`${i(e.padding)} ${i(e.paddingLG)}`:0,headerBorderBottom:e.wireframe?`${i(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",headerMarginBottom:e.wireframe?0:e.marginXS,bodyPadding:e.wireframe?e.paddingLG:0,footerPadding:e.wireframe?`${i(e.paddingXS)} ${i(e.padding)}`:0,footerBorderTop:e.wireframe?`${i(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",footerBorderRadius:e.wireframe?`0 0 ${i(e.borderRadiusLG)} ${i(e.borderRadiusLG)}`:0,footerMarginTop:e.wireframe?0:e.marginSM,confirmBodyPadding:e.wireframe?`${i(e.padding*2)} ${i(e.padding*2)} ${i(e.paddingLG)}`:0,confirmIconMarginInlineEnd:e.wireframe?e.margin:e.marginSM,confirmBtnsMarginTop:e.wireframe?e.marginLG:e.marginSM}),Le=ye("Modal",e=>{const a=ze(e);return[He(a),Pe(a),Te(a),he(a,"zoom")]},De,{unitless:{titleLineHeight:!0}});export{Ie as D,Ee as P,ze as a,Te as g,De as p,Le as u};
